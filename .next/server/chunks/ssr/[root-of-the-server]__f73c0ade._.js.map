{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/sebkeating/Documents/ScaleWize/Web%20Dev/scalewize-website/src/lib/supabase-client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\nimport { Database } from '@/types/database'\n\nexport const supabase = createBrowserClient<Database>(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n) "],"names":[],"mappings":";;;AAAA;AAAA;;AAGO,MAAM,WAAW,CAAA,GAAA,0KAAA,CAAA,sBAAmB,AAAD","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/sebkeating/Documents/ScaleWize/Web%20Dev/scalewize-website/src/app/login/LoginPageInner.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { Bot, Eye, EyeOff, Loader2, Mail } from 'lucide-react';\nimport { supabase } from '@/lib/supabase-client';\n\nexport default function LoginPageInner() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [checkingSession, setCheckingSession] = useState(true);\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const redirectTo = searchParams.get('redirectTo') || '/dashboard';\n\n  useEffect(() => {\n    supabase.auth.getSession().then(async ({ data: { session } }) => {\n      if (\n        session &&\n        session.user &&\n        (!session.expires_at || session.expires_at * 1000 > Date.now())\n      ) {\n        // Try fetching the user's profile\n        const { data, error } = await supabase\n          .from('profiles')\n          .select('*')\n          .eq('id', session.user.id)\n          .single();\n\n        if (data && !error) {\n          router.push('/dashboard');\n        } else {\n          // Session is invalid for data fetches, force logout\n          await supabase.auth.signOut();\n          localStorage.clear();\n          sessionStorage.clear();\n          document.cookie.split(';').forEach((c) => {\n            if (c.includes('sb-')) {\n              document.cookie = c\n                .replace(/^ +/, '')\n                .replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\n            }\n          });\n          setCheckingSession(false);\n        }\n      } else {\n        setCheckingSession(false);\n      }\n    });\n  }, [router]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) {\n        setError(error.message);\n        setLoading(false);\n        return;\n      }\n\n      if (!data || !data.user) {\n        setError('No user returned from Supabase');\n        setLoading(false);\n        return;\n      }\n\n      // Fetch profile after login\n      const { data: profile, error: profileError } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', data.user.id)\n        .single();\n\n      if (profile && !profileError) {\n        window.location.href = redirectTo;\n      } else {\n        setError('Profile not found');\n        setLoading(false);\n      }\n    } catch (err) {\n      setError('Unexpected error');\n      setLoading(false);\n    }\n  };\n\n  if (checkingSession) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 mb-4\">\n            <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-t-2\" style={{ borderColor: '#595F39' }}></div>\n          </div>\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Loading ScaleWize AI</h2>\n          <p className=\"text-gray-600\">Checking your session...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <div className=\"flex justify-center\">\n            <Bot className=\"h-12 w-12\" style={{ color: '#595F39' }} />\n          </div>\n          <h2 className=\"mt-6 text-3xl font-bold text-gray-900\">\n            Welcome back\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            Sign in to your ScaleWize AI account\n          </p>\n        </div>\n\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Email address\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Mail className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  required\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-0\"\n                  style={{ '--tw-ring-color': '#595F39' } as React.CSSProperties}\n                  placeholder=\"Enter your email\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Password\n              </label>\n              <div className=\"relative\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  autoComplete=\"current-password\"\n                  required\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-0 pr-10\"\n                  style={{ '--tw-ring-color': '#595F39' } as React.CSSProperties}\n                  placeholder=\"Enter your password\"\n                />\n                <button\n                  type=\"button\"\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                  onClick={() => setShowPassword(!showPassword)}\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-5 w-5 text-gray-400\" />\n                  ) : (\n                    <Eye className=\"h-5 w-5 text-gray-400\" />\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-sm\">\n              <Link \n                href=\"/auth/forgot-password\" \n                className=\"font-medium hover:underline\"\n                style={{ color: '#595F39' }}\n              >\n                Forgot your password?\n              </Link>\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm\">\n              {error}\n            </div>\n          )}\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-base font-medium rounded-md text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n              style={{ backgroundColor: '#595F39' }}\n            >\n              {loading ? (\n                <Loader2 className=\"h-5 w-5 animate-spin\" />\n              ) : (\n                'Sign in'\n              )}\n            </button>\n          </div>\n\n          <div className=\"text-center\">\n            <p className=\"text-sm text-gray-600\">\n              Don't have an account?{' '}\n              <Link href=\"/signup\" className=\"font-medium\" style={{ color: '#595F39' }}>\n                Sign up\n              </Link>\n            </p>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///Users/sebkeating/Documents/ScaleWize/Web%20Dev/scalewize-website/src/app/login/page.tsx"],"sourcesContent":["'use client';\n\nexport const dynamic = \"force-dynamic\";\n\nimport React, { Suspense } from 'react';\nimport LoginPageInner from './LoginPageInner';\n\nexport default function LoginPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 mb-4\">\n            <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-t-2\" style={{ borderColor: '#595F39' }}></div>\n          </div>\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Loading ScaleWize AI</h2>\n          <p className=\"text-gray-600\">Preparing your login...</p>\n        </div>\n      </div>\n    }>\n      <LoginPageInner />\n    </Suspense>\n  );\n} "],"names":[],"mappings":";;;;;AAIA;AACA;AALA;;AAEO,MAAM,UAAU;;;AAKR,SAAS;IACtB,qBACE,8OAAC,qMAAA,CAAA,WAAQ;QAAC,wBACR,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;4BAA4D,OAAO;gCAAE,aAAa;4BAAU;;;;;;;;;;;kCAE7G,8OAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;kBAIjC,cAAA,8OAAC,sIAAA,CAAA,UAAc;;;;;;;;;;AAGrB","debugId":null}}]
}