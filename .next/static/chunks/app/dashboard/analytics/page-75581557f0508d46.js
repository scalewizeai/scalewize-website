(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{2225:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var t=a(5155),l=a(2115),d=a(283),i=a(7913),c=a(7580),n=a(1497),r=a(3109),x=a(2713);let m=(0,a(9946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var o=a(2409);function h(){let{organization:e,user:s,profile:a}=(0,d.A)(),[h,g]=(0,l.useState)([]),[j,N]=(0,l.useState)([]),[v,u]=(0,l.useState)(null),[p,f]=(0,l.useState)(!0),y=e?(0,i.K)(e.id):null;(0,l.useEffect)(()=>{o.N.auth.getSession().then(e=>{let{data:{session:s}}=e;console.log("Dashboard Supabase session:",s)}),console.log("Dashboard AuthContext user:",s),console.log("Dashboard AuthContext profile:",a),console.log("Dashboard AuthContext organization:",e),y&&e&&b()},[null==e?void 0:e.id]);let b=async()=>{if(y){f(!0);try{let[e,s,a]=await Promise.all([y.getDailyMetrics(7),y.getLeadSources(),y.getDetailedMetrics()]);g(e),N(s),u(a)}catch(e){console.error("Error loading analytics:",e)}finally{f(!1)}}},w=[{date:"2024-01-01",sessions:45,messages:234,tokens:12340},{date:"2024-01-02",sessions:52,messages:289,tokens:15670},{date:"2024-01-03",sessions:48,messages:267,tokens:14230},{date:"2024-01-04",sessions:61,messages:345,tokens:18920},{date:"2024-01-05",sessions:55,messages:298,tokens:16240},{date:"2024-01-06",sessions:67,messages:378,tokens:20150},{date:"2024-01-07",sessions:73,messages:412,tokens:22480}];return p?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})})},s))})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Track performance across all your AI automation tools"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(c.A,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Connection Rate"}),(0,t.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:[(null==v?void 0:v.connectionRate)||0,"%"]})]})})]})})}),(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(n.A,{className:"h-6 w-6 text-green-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Response Rate"}),(0,t.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:[(null==v?void 0:v.responseRate)||0,"%"]})]})})]})})}),(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(r.A,{className:"h-6 w-6 text-purple-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Conversations"}),(0,t.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:(null==v?void 0:v.activeConversations)||0})]})})]})})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(x.A,{className:"h-6 w-6 text-indigo-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Messages/Lead"}),(0,t.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:(null==v?void 0:v.avgMessagesPerLead)||0})]})})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"LinkedIn Sales Performance"}),(0,t.jsx)("div",{className:"space-y-4",children:h.length>0?h.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(m,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.leads}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Leads"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.messages}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Messages"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.replies}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Replies"})]})]})]},s)):(0,t.jsx)("div",{className:"text-center text-gray-500 py-8",children:"No LinkedIn data available"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Chatbot Performance"}),(0,t.jsx)("div",{className:"space-y-4",children:w.slice(-7).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(m,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.sessions}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Sessions"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.messages}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Messages"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.tokens.toLocaleString()}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Tokens"})]})]})]},s))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"LinkedIn Lead Sources"}),(0,t.jsx)("div",{className:"space-y-4",children:j.length>0?j.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.source})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.count}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"leads"})]}),(0,t.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(e.percentage,"%")}})}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 w-8",children:[e.percentage,"%"]})]})]},s)):(0,t.jsx)("div",{className:"text-center text-gray-500 py-8",children:"No lead source data available"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Chatbot Topics"}),(0,t.jsx)("div",{className:"space-y-4",children:[{topic:"Product Information",count:234,percentage:28},{topic:"Technical Support",count:189,percentage:23},{topic:"Pricing Questions",count:156,percentage:19},{topic:"Account Management",count:123,percentage:15},{topic:"General Inquiries",count:98,percentage:12}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.topic})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.count}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"queries"})]}),(0,t.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.percentage,"%")}})}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 w-8",children:[e.percentage,"%"]})]})]},s))})]})]}),v&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Connection & Response Metrics"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Connection Requests Sent"}),(0,t.jsx)("span",{className:"font-semibold",children:v.connectionRequestsSent})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Connections Made"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:v.connectionsMade})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Responses Received"}),(0,t.jsx)("span",{className:"font-semibold text-blue-600",children:v.responses})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Active Conversations"}),(0,t.jsx)("span",{className:"font-semibold text-purple-600",children:v.activeConversations})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Connection Rate"}),(0,t.jsxs)("span",{className:"font-semibold text-green-600",children:[v.connectionRate,"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Response Rate"}),(0,t.jsxs)("span",{className:"font-semibold text-blue-600",children:[v.responseRate,"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Active Conversation Rate"}),(0,t.jsxs)("span",{className:"font-semibold text-purple-600",children:[v.activeConversationRate,"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Avg Messages per Lead"}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:v.avgMessagesPerLead})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Usage Breakdown"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:h.reduce((e,s)=>e+s.leads,0)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"LinkedIn Leads"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:w.reduce((e,s)=>e+s.sessions,0)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Chat Sessions"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:w.reduce((e,s)=>e+s.tokens,0).toLocaleString()}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Tokens Used"})]})]})]})]})}},2713:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},5779:(e,s,a)=>{Promise.resolve().then(a.bind(a,2225))}},e=>{var s=s=>e(e.s=s);e.O(0,[691,4,441,684,358],()=>s(5779)),_N_E=e.O()}]);